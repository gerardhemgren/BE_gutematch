(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{67:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(34),r=n.n(a),s=n(18),i=n(17),o=n(2),l=n.n(o),u=n(5),d=n(14),h=n(12),j=n(3),m=n(11),b=n.n(m),p={getAllMatchs:function(){return b.a.get("/all_matchs").then((function(e){return e.data}))},getOpenMatchs:function(e){return b.a.get("/open_matchs/".concat(e)).then((function(e){return e.data}))},getMyMatchs:function(e){return b.a.get("/my_matchs/".concat(e)).then((function(e){return e.data}))},createMatch:function(e,t){return b.a.post("/add_match/".concat(t),e).then((function(e){return e.data}))},deleteMatch:function(e,t){var n={id_match:e};return b.a.delete("/my_matchs/owner/".concat(t),{data:n}).then((function(e){return e.data}))},joinMatch:function(e,t){var n={id_match:e};return b.a.post("/open_matchs/".concat(t),n).then((function(e){return e.data}))},leaveMatch:function(e,t){var n={id_match:e};return b.a.delete("/my_matchs/".concat(t),{data:n}).then((function(e){return e.data}))}},f={logIn_signUp:function(e,t){var n={name:t};return b.a.post("/config/".concat(e),n).then((function(e){return e.data}))}},O=n(10),x=n(0),v=n(32),g=n(65),w=n(66);v.extend(g),v.extend(w);var y=function(e){var t,n,c=e.user,a=e.match,r=e.source,s=e.join,i=e.leave,o=e.deleteMatch,l=a.name,u=a.date,d=a.location,h=a.players,j=a.players_field,m=a.id_admin;return t="showOpenMatchs"===r?Object(x.jsx)("button",{onClick:s,children:"Join"}):"showMyMatchs"===r?Object(x.jsx)("button",{onClick:i,children:"Leave"}):void 0,m===Number(c)&&(n=Object(x.jsx)("button",{onClick:o,children:"Del"})),Object(x.jsxs)("div",{id:"".concat(r),className:"match-container",children:[Object(x.jsxs)("div",{className:"date",children:[Object(x.jsx)("div",{className:"day",children:v(u).utc().format("DD \u2014 dddd")}),Object(x.jsx)("div",{className:"month-year",children:v(u).utc().format(", MMMM. YYYY")})]}),Object(x.jsxs)("div",{className:"match",children:[Object(x.jsx)("div",{className:"time",children:v(u).utc().format("HH:mm")}),Object(x.jsxs)("div",{className:"players",children:[Object(x.jsxs)("div",{className:"field",children:["F",j/2]}),Object(x.jsx)("div",{className:"joined",children:h}),Object(x.jsx)("div",{className:"missed",children:"/ ".concat(j)})]}),Object(x.jsxs)("div",{className:"action",children:[n," ",t]})]}),Object(x.jsxs)("div",{className:"info",children:[Object(x.jsx)("div",{className:"name",children:l}),Object(x.jsx)("div",{className:"location",children:d})]})]})};var M=function(e){var t=e.props,n=t.user,c=t.source,a=t.matchs,r=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.deleteMatch(t,n).then(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:window.location.pathname="my_matchs";case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.joinMatch(t,n).then(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:window.location.pathname="my_matchs";case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.leaveMatch(t,n).then(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:window.location.pathname="my_matchs";case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)("div",{children:[a.map((function(e,t){return Object(x.jsx)(y,{match:e,user:n,source:c,join:function(){return s(e.id_match)},leave:function(){return i(e.id_match)},deleteMatch:function(){return r(e.id_match)}},t)})),Object(x.jsx)("div",{className:"bottom-space"})]})},N=function(e){var t=e.msg;if(t){var n=t;return Object(x.jsx)("div",{className:"message",children:Object(x.jsx)("div",{children:n})})}return null},_=function(){var e=Object(O.b)().loginWithRedirect;return Object(x.jsx)("button",{className:"action-button primary",onClick:function(){return e()},children:"Log In"})},k=function(){var e=Object(O.b)().logout;return Object(x.jsx)("button",{className:"action-button logout-button secondary",onClick:function(){return localStorage.removeItem("ls"),localStorage.removeItem("lid"),localStorage.removeItem("ln"),void e({returnTo:window.location.origin})},children:"Log Out"})},C=function(){var e=Object(O.b)().isAuthenticated;return localStorage.getItem("lid")||e?Object(x.jsx)(k,{}):Object(x.jsx)(_,{})},S=function(e){var t=e.user,n=function(){if(t){var e=t.lsName;return Object(x.jsx)("div",{children:e})}return null};return Object(x.jsx)("div",{className:"config",children:Object(x.jsxs)("div",{className:"profile",children:[Object(x.jsx)(n,{}),Object(x.jsx)(C,{})]})})},I=n.p+"static/media/settings.5ce75b92.svg",Y=n.p+"static/media/open_matchs.da3387c7.svg",A=n.p+"static/media/my_matchs.feae84d8.svg",D=n.p+"static/media/create.974938dd.svg",F=(n(67),n(32));var L=function(){var e=localStorage.getItem("lid"),t=localStorage.getItem("ln"),n=Object(O.b)(),a=n.user,r=n.isLoading,o=a?a.sub:void 0,m=Object(c.useState)(e||0),b=Object(d.a)(m,2),v=b[0],g=b[1];Object(c.useEffect)((function(){var e=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getAllMatchs().then((function(e){k("showAllMatchs"),J(e),q("All matchs")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getOpenMatchs(v).then((function(e){k("showOpenMatchs"),q("Open matchs"),"object"===typeof e?J(e):(J([]),B(e))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(n){v!==n?"/open_matchs"===window.location.pathname||"/"===window.location.pathname?t():"/my_matchs"===window.location.pathname?z():"/add_match"===window.location.pathname?P():Q():e()};r||(a?f.logIn_signUp(o,a.name).then(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=g,e.next=3,t[0].id;case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=localStorage,e.next=8,t[0].id;case 8:return e.t3=e.sent,e.t2.setItem.call(e.t2,"lid",e.t3),e.t4=localStorage,e.next=13,t[0].name;case 13:e.t5=e.sent,e.t4.setItem.call(e.t4,"ln",e.t5),n(1);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):n(0))}),[r,v,a,o]);var w=Object(c.useState)(""),y=Object(d.a)(w,2),_=y[0],k=y[1],C=Object(c.useState)(""),L=Object(d.a)(C,2),R=L[0],q=L[1],T=Object(c.useState)([]),H=Object(d.a)(T,2),U=H[0],J=H[1],W=Object(c.useState)(""),E=Object(d.a)(W,2),K=E[0],B=E[1],G=function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getOpenMatchs(v).then((function(e){k("showOpenMatchs"),q("Open matchs"),"object"===typeof e?J(e):(J([]),B(e))}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(){var t=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.getMyMatchs(v).then((function(t){k("showMyMatchs"),q("My matchs"),"object"===typeof t?J(t):(J([]),B(e?t:"You must be logged to join a match"))}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P=function(){J([]),k("createMatch"),q("Create a match"),B(e?"":"You must be logged to create a match")},Q=function(){k("config"),q("Config")},V=Object(c.useState)({date:"",time:"",location:"",players_field:10,name:""}),X=Object(d.a)(V,2),Z=X[0],$=X[1],ee=function(e){$(Object(i.a)(Object(i.a)({},Z),{},Object(s.a)({},e.target.name,e.target.value)))},te=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={date:"".concat(Z.date," ").concat(Z.time),location:Z.location,players_field:Number(Z.players_field),name:Z.name},e.next=4,p.createMatch(n,v).then(function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=B,e.next=3,t;case 3:e.t1=e.sent,(0,e.t0)(e.t1),"Match created"===t&&(window.location.pathname="/my_matchs");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne={matchs:U,user:v,source:_};return Object(x.jsx)(h.a,{children:Object(x.jsxs)("div",{className:"bodyApp",children:[Object(x.jsxs)("div",{className:"header",children:[Object(x.jsxs)("div",{className:"topbar",children:[Object(x.jsxs)("div",{className:"logo",children:["gute",Object(x.jsx)("span",{children:"match"})]}),Object(x.jsx)(h.b,{to:"/config",className:"".concat("config"===_?"none":"config-button"),onClick:function(){return Q()},children:Object(x.jsx)("img",{src:I,alt:"settings",className:"settings-icon",width:"20",height:"20"})})]}),Object(x.jsxs)("div",{className:"title",children:[R," ","showOpenMatchs"===_&&U.length>0||"showMyMatchs"===_||"showAllMatchs"===_?"\u2014 ".concat(U.length):""]}),Object(x.jsx)("div",{className:"message-container",children:Object(x.jsx)(N,{msg:K,action:void(K&&setTimeout((function(){B("")}),8e3))})})]}),Object(x.jsx)("div",{className:"main",children:Object(x.jsxs)(j.c,{children:[Object(x.jsx)(j.a,{exact:!0,path:"/",children:Object(x.jsx)(M,{props:ne})}),Object(x.jsx)(j.a,{path:"/open_matchs",children:Object(x.jsx)(M,{props:ne})}),Object(x.jsx)(j.a,{path:"/my_matchs",children:Object(x.jsx)(M,{props:ne})}),Object(x.jsx)(j.a,{path:"/add_match",children:Object(x.jsx)("div",{children:"createMatch"===_?Object(x.jsxs)("form",{onSubmit:te,onReset:function(){$(Object(i.a)(Object(i.a)({},Z),{},{date:"",time:"",location:"",players_field:10,name:""}))},className:"form",children:[Object(x.jsxs)("fieldset",{children:[Object(x.jsx)("legend",{children:"Location"}),Object(x.jsx)("input",{className:"input-adress",required:!0,placeholder:"Adress",name:"location",value:Z.location,onChange:ee}),Object(x.jsx)("label",{children:"Adress 1234, City, Country"})]}),Object(x.jsxs)("div",{className:"name-field",children:[Object(x.jsxs)("fieldset",{children:[Object(x.jsx)("legend",{children:"Field"}),Object(x.jsx)("div",{children:Object(x.jsxs)("select",{className:"drop-players-field",name:"players_field",type:"number",value:Z.players_field,onChange:ee,children:[Object(x.jsx)("option",{value:"10",children:"F \u2014 5"}),Object(x.jsx)("option",{value:"14",children:"F \u2014 7"}),Object(x.jsx)("option",{value:"18",children:"F \u2014 9"}),Object(x.jsx)("option",{value:"22",children:"F \u2014 11"})]})})]}),Object(x.jsxs)("fieldset",{children:[Object(x.jsx)("legend",{children:"Name"}),Object(x.jsx)("input",{className:"input-name",required:!0,placeholder:"Match name",maxLength:"10",name:"name",value:Z.name,onChange:ee}),Object(x.jsx)("label",{children:"Max: 10 characteres"})]})]}),Object(x.jsxs)("div",{className:"date-field",children:[Object(x.jsxs)("fieldset",{children:[Object(x.jsx)("legend",{children:"Date"}),Object(x.jsx)("input",{required:!0,className:"input-date",type:"date",name:"date",min:F().format("YYYY-MM-DD"),max:F().add(3,"M").format("YYYY-MM-DD"),value:Z.date,onChange:ee})]}),Object(x.jsxs)("fieldset",{children:[Object(x.jsx)("legend",{children:"Time"}),Object(x.jsx)("input",{required:!0,className:"input-time",type:"time",name:"time",value:Z.time,onChange:ee})]})]}),Object(x.jsxs)("div",{className:"action",children:[Object(x.jsx)("button",{type:"reset",value:"Reset",children:"Reset"}),Object(x.jsx)("button",{type:"submit",children:"Create"})]})]}):null})}),Object(x.jsx)(j.a,{path:"/config",children:Object(x.jsx)(S,{user:{lsName:t}})})]})}),Object(x.jsxs)("div",{className:"navbar",children:[Object(x.jsx)(h.b,{to:"/open_matchs",onClick:function(){return G()},children:Object(x.jsx)("img",{src:Y,alt:"Open Matchs",className:"".concat("showOpenMatchs"===_||"showAllMatchs"===_?"focus":"nav-icon"),width:"16",height:"16"})}),Object(x.jsx)(h.b,{to:"/add_match",onClick:function(){return P()},children:Object(x.jsx)("img",{src:D,alt:"Create Match",className:"".concat("createMatch"===_?"focus":"nav-icon"),width:"16",height:"16"})}),Object(x.jsx)(h.b,{to:"/my_matchs",onClick:function(){return z()},children:Object(x.jsx)("img",{src:A,alt:"My Matchs",className:"".concat("showMyMatchs"===_?"focus":"nav-icon"),width:"16",height:"16"})})]})]})})},R=function(e){var t=e.children,n=Object(j.f)();return Object(x.jsx)(O.a,{domain:"guten.us.auth0.com",clientId:"9KgqHeGFIRxSvwUD75TAWC573AHlg9WK",redirectUri:window.location.origin,onRedirectCallback:function(e){n.push((null===e||void 0===e?void 0:e.returnTo)||window.location.pathname)},children:t})};n(72);r.a.render(Object(x.jsx)(h.a,{children:Object(x.jsx)(R,{children:Object(x.jsx)("div",{className:"app",children:Object(x.jsx)(L,{})})})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.6219942b.chunk.js.map